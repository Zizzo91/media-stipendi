<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Dashboard 2015-2060</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav class="navbar">
        <div class="logo">
            <i class="fa-solid fa-chart-line"></i> <span>SalaryDash</span>
        </div>
        
        <div class="year-selector-container">
            <button id="prevYear" class="nav-btn"><i class="fa-solid fa-chevron-left"></i></button>
            <div class="select-wrapper">
                <select id="yearPicker"></select>
            </div>
            <button id="nextYear" class="nav-btn"><i class="fa-solid fa-chevron-right"></i></button>
        </div>

        <div class="controls">
            <button id="themeToggle" class="icon-btn"><i class="fa-solid fa-moon"></i></button>
            <button id="exportBtn" class="icon-btn" title="Esporta JSON"><i class="fa-solid fa-file-export"></i></button>
            <label for="importFile" class="icon-btn" title="Importa JSON"><i class="fa-solid fa-file-import"></i></label>
            <input type="file" id="importFile" accept=".json" style="display: none;">
        </div>
    </nav>

    <main class="container">
        <section class="month-section card">
            <div class="grid-header">Seleziona Mensilità</div>
            <div class="month-grid" id="monthGrid"></div>
        </section>

        <section class="input-section card">
            <h2 id="formTitle">Caricamento...</h2>
            <div class="input-container">
                <span class="currency-prefix">€</span>
                <input type="number" id="salaryInput" placeholder="0.00" step="0.01">
            </div>
            <div class="form-actions">
                <button id="btnPrevMonth" class="btn btn-nav"><i class="fa-solid fa-arrow-left"></i> Prec</button>
                <button id="btnSave" class="btn btn-primary">Salva Valore</button>
                <button id="btnNextMonth" class="btn btn-nav">Succ <i class="fa-solid fa-arrow-right"></i></button>
            </div>
            <div id="smartDiff" class="smart-diff"></div>
        </section>

        <section class="kpi-grid">
            <div class="kpi-card">
                <small>Totale Annuo</small>
                <div id="kpiTotal">€ 0</div>
            </div>
            <div class="kpi-card">
                <small>Media Mensile (su 12m)</small>
                <div id="kpiAvg">€ 0</div>
            </div>
            <div class="kpi-card">
                <small>Massimo Annuo</small>
                <div id="kpiMax">€ 0</div>
            </div>
            <div class="kpi-card">
                <small>Mesi Compilati</small>
                <div id="kpiCount">0 / 14</div>
            </div>
        </section>

        <section class="charts-container">
            <div class="chart-card card">
                <h3>Andamento Mensile</h3>
                <canvas id="monthlyChart"></canvas>
            </div>
            <div class="chart-card card">
                <h3>Confronto Storico Totale</h3>
                <canvas id="yearlyChart"></canvas>
            </div>
        </section>

        <section class="table-section card">
            <h3>Dettaglio Annuale</h3>
            <div class="table-wrapper">
                <table id="salaryTable">
                    <thead>
                        <tr>
                            <th>Mese</th>
                            <th>Importo</th>
                            <th>Stato</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </section>
    </main>

    <div id="toast" class="toast">Dati salvati con successo!</div>

    <script src="script.js"></script>
</body>
</html>